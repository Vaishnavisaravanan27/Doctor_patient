DROP DATABASE login_db;
CREATE DATABASE login_db;
USE login_db;

CREATE TABLE patient (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE,
    password VARCHAR(100),
    name VARCHAR(100),
    age INT,
    gender VARCHAR(10),
    phone VARCHAR(15)
);
CREATE TABLE doctors (
    doctor_id INT PRIMARY KEY,
    doctor_name VARCHAR(100),
    password VARCHAR(50)
);
CREATE TABLE appointments (
    appointment_id INT AUTO_INCREMENT PRIMARY KEY,
    doctor_id INT,
    patient_id BIGINT,
    date DATE,
    time VARCHAR(20),
    status VARCHAR(20),
    diagnosis VARCHAR(255)
);

ALTER TABLE appointments 
ADD COLUMN department VARCHAR(100);

CREATE TABLE prescriptions (
    prescription_id INT AUTO_INCREMENT PRIMARY KEY,
    appointment_id INT,
    doctor_id INT,
    patient_id BIGINT,
    medicine_name VARCHAR(100),
    dosage VARCHAR(50),
    duration VARCHAR(50)
);
CREATE TABLE medical_records (
    record_id INT AUTO_INCREMENT PRIMARY KEY,
    appointment_id INT,
    doctor_id INT,
    patient_id BIGINT,
    diagnosis VARCHAR(255),
    visit_date DATE
);
CREATE TABLE bill (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    patient_id BIGINT,
    amount DECIMAL(10,2),
    status VARCHAR(30)
);


INSERT INTO patient VALUES
(1,'vaishu','1234','Vaishnavi',21,'Female','9876543210');

INSERT INTO doctors VALUES
(101,'Dr. Arun','arun123');

INSERT INTO appointments 
(doctor_id, patient_id, date, time, status, diagnosis)
VALUES
(101, 1, '2026-01-20', '10:30 AM', 'Booked', 'General Checkup');

